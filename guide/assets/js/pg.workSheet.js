var $headerHtml="";$headerHtml+='<h1><span class="hide">PUBLISHING WorkSheet</span></h1>',$headerHtml+='<button type="button" class="btn_util"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="65px" height="50px" viewBox="0 0 65 65" xml:space="preserve"><path class="bar b1" d="M20,23.912h23.997c0,0,16.004-0.501,16.004,13.416 S46.75,47.912,41.834,42.995S22.668,23.412,22.668,23.412"/><path class="bar b2" d="M24.751,41.995H44c0,0,16.001,1.167,16.001-12.25 c0-13.417-9.508-15.157-18.004-6.745S22.001,42.995,22.001,42.995"/><line class="bar b3" x1="30.125" y1="32.999" x2="43.997" y2="32.999"/></svg><span class="hide">메뉴열기</span></span></button>',$headerHtml+='<div class="pg_util">',$headerHtml+='<div class="pg_search">',$headerHtml+='<input type="text" id="pgSearchINP" placeholder="검색어를 입력하세요" />',$headerHtml+='<button type="button" id="btnPgSearch"><span class="hide">검색하기</span></button>',$headerHtml+="</div>",$headerHtml+='<div class="switch">',$headerHtml+='<span class="bar"></span>',$headerHtml+="<ul>",$headerHtml+='  <li><a href="./workSheet.html" target="_blank">Worksheet</a></li>',$headerHtml+='  <li><a href="./component.html" target="_blank">Component</a></li>',$headerHtml+='  <li><a href="./document.html" target="_blank">Document</a></li>',$headerHtml+="</ul>",$headerHtml+="</div>",$headerHtml+='<button type="button" class="btn_responsive"><i><i><i class="hide">모바일 미리보기</i></i></i></button>',$headerHtml+="</div>",$(function(){"dark"==localStorage.lightMode&&$("html").attr("light-mode","dark"),guide.header(),makeBoard(),$(window).resize()});var makeBoard=function(){var t=$(".pg_board_tab .swiper-slide"),e=t.length,s=function(t,e){var s='<div id="'+t+'" class="pg_board_panel">';s+='<div class="panel_head">',s+='<div class="pg_target">',s+='<ul class="swiper-wrapper">',s+="</ul>",s+="</div>",s+='<span class="pg_status">',s+='<span class="num total">본수 : <strong class="num"></strong></span>',s+='<span class="num working">진행본수 : <strong class="num"></strong></span>',s+='<span class="num cp_num">완료본수 : <strong class="num"></strong></span>',s+='<span class="pg_status_box"> <span class="bar"></span><span class="ing">진행률 : <strong class="num"></strong>%</span></span>',s+="</span>",s+="</div>",s+='<div class="pg_alert_btn_set">',s+="</div>",s+='<div class="pg_board">',s+="<table>",s+="<caption>메뉴별 코딩리스트</caption>",s+="<colgroup>",s+='<col style="width:50px">',s+='<col style="width:150px">',s+='<col style="width:90px">',s+='<col class="d1" style="width:auto">',s+='<col class="d2" style="width:auto">',s+='<col class="d3" style="width:auto">',s+='<col class="d4" style="width:auto">',s+='<col style="width:300px">',s+='<col style="width:90px">',s+='<col style="width:110px">',s+='<col style="width:100px">',s+='<col style="width:100px">',s+='<col style="width:80px">',s+='<col style="width:100px">',s+="</colgroup>",s+="<thead>",s+="<tr>",s+='<th scope="col">No</th>',s+='<th scope="col" class="id">화면id</th>',s+='<th scope="col" class="type">화면타입</th>',s+='<th scope="col" class="deps d1">1Depth<button type="button" rel="d1"><span class="hide">숨기기</span></button></th>',s+='<th scope="col" class="deps d2">2Depth<button type="button" rel="d2"><span class="hide">숨기기</span></button></th>',s+='<th scope="col" class="deps d3">3Depth<button type="button" rel="d3"><span class="hide">숨기기</span></button></th>',s+='<th scope="col" class="deps d4">4Depth<button type="button" rel="d4"><span class="hide">숨기기</span></button></th>',s+='<th scope="col" class="name">화면명</th>',s+='<th scope="col" class="worker">작업자</th>',s+='<th scope="col" class="w_date">',s+="<select>",s+='<option value="">WBS</option>',s+="</select>",s+="</th>",s+='<th scope="col" class="c_date">',s+="<select>",s+='<option value="">작업일</option>',s+="</select>",s+="</th>",s+='<th scope="col" class="m_date">수정일</th>',s+='<th scope="col" class="complete">',s+="<select>",s+='<option value="">상태</option>',s+="</select>",s+="</th>",s+='<th scope="col" class="etc">비고</th>',s+="</tr>",s+="</thead>",s+="<tbody>",s+=e,s+="</tbody>",s+="</table>",s+="</div>",s+="</div>",$(".pg_content").append(s)},a=function(t){var e="",s=1,a="../../v2/html",i=function(t){var e="";if(void 0!==t.directory&&""!==t.directory)a=t.directory;else if(t.state?e+='<tr class="'+t.state+'">':e+="<tr>",e+='<td class="no">'+s+"</td>",s+=1,t.id?t.link?e+='<td class="id">'+t.id+"</td>":e+='<td class="id"><a href="'+a+"/"+t.path+"/"+t.id+'.html" target="_blank">'+t.id+"</a></td>":e+='<td class="id"></td>',t.type?e+='<td class="type"><span>'+t.type+"</span></td>":e+='<td class="type"><span>페이지</span></td>',t.depth1?e+='<td class="depth1">'+t.depth1+"</td>":e+='<td class="depth1"></td>',t.depth2?e+='<td class="depth2">'+t.depth2+"</td>":e+='<td class="depth2"></td>',t.depth3?e+='<td class="depth3">'+t.depth3+"</td>":e+='<td class="depth3"></td>',t.depth4?e+='<td class="depth4">'+t.depth4+"</td>":e+='<td class="depth4"></td>',t.name?t.link?e+='<td class="name">'+t.id+"</td>":void 0===t.path||""===t.path?e+='<td class="name"><a href="'+a+"/"+t.id+'.html" target="_blank">'+t.name+"</a></td>":e+='<td class="name"><a href="'+a+"/"+t.path+"/"+t.id+'.html" target="_blank">'+t.name+"</a></td>":e+='<td class="name"></td>',t.worker?e+='<td class="worker">'+t.worker+"</td>":e+='<td class="worker"></td>',t.schedule?e+='<td class="w_date"><span class="schedule schedule_s">'+t.schedule[0].schedule_s+'</span><span class="schedule schedule_e">'+t.schedule[0].schedule_e+"</span></td>":e+='<td class="w_date"></td>',t.workdate?e+='<td class="c_date">'+t.workdate+"</td>":e+='<td class="c_date"></td>',t.change?e+='<td class="m_date">'+t.change+"</td>":e+='<td class="m_date"></td>',"msg"==t.state?e+='<td class="complete"><span class="msg">'+t.complete+"</span></td>":"done"===t.state?e+='<td class="complete"><span class="done">완료</span></td>':"del"===t.state?e+='<td class="complete"><span class="del">삭제</span></td>':"hold"===t.state?e+='<td class="complete"><span class="hold">보류</span></td>':t.workdate?e+='<td class="complete"><span class="ing">작업중</span></td>':t.schedule?e+='<td class="complete"><span class="ready">대기중</span></td>':e+='<td class="complete"><span></span></td>',t.etc){var i="";$.each(t.etc,function(){-1!=this.indexOf("디자인확인")?i+='<li class="design">'+this+"</li>":-1!=this.indexOf("기획확인")?i+='<li class="plan">'+this+"</li>":-1!=this.indexOf("이슈")?i+='<li class="issue">'+this+"</li>":-1!=this.indexOf("지연")?i+='<li class="schedule">'+this+"</li>":-1!=this.indexOf("기타")?i+='<li class="etc">'+this+"</li>":i+="<li>"+this+"</li>"}),e+='<td class="etc"><ul class="remark">'+i+"</ul>"}else e+='<td class="etc"></td>';return e+"</tr>"};return $.each(t,function(){e+=i(this)}),e},i=0;t.each(function(t){var n=$(this),l="panel"+t;n.attr("rel",l);var d=n.find("button").data("json"),o="";void 0!==d&&jQuery.ajax({type:"GET",url:d,dataType:"JSON",success:function(t){t.length&&(o=a(t))},complete:function(t){i+=1,s(l,o),i===e&&setTimeout(function(){guide.init(),setTimeout(function(){$(window).resize()},100)},100)},error:function(t,e,s){console.error(l,"에러발생",t,e,s)}})})},tabSwiper="",targetSwiper=[],guide={header:function(t){var e=location.pathname.split("/").pop();if($("#pgHeader").length&&$("#pgHeader").html($headerHtml),$(".pg_nav a").each(function(){var t=$(this).attr("href").split("/").pop();e==t&&$(this).parents("li").addClass("active")}),$(".pg_content>h2").length&&""!=$(".pg_content>h2").text()){var s=document.title;document.title=$(".pg_content>h2").text()+" | "+s}$(".btn_util").on("click",function(){$("html").toggleClass("util_show"),$("html").hasClass("util_show")&&($("#pgSearchINP").keydown(function(t){13==t.keyCode&&$("html").removeClass("util_show")}),$("#btnPgSearch").on("click",function(){$("html").removeClass("util_show")}))})},switchSet:function(t){var e=$("body").attr("data-util");$(".switch li").each(function(){var t=$(this);e.charAt(0).toUpperCase()+e.slice(1)===t.text()&&t.addClass("active")}),$(window).resize(function(){var e=void 0!==t?t:$(".switch").find("li.active"),s=e.closest("ul").find("li"),a=e.closest(".switch").find(".bar"),i=e.closest("ul").width(),n=e.closest("li").position().left;a.css({width:i/s.length-2,left:n,opacity:1,transform:"scale(1)"})}),$(window).resize()},switch:function(){$(".switch").length&&$(".switch>ul>li>a").on("mouseover focusin",function(t){var e=$(this);guide.switchSet(e)}).on("mouseout focusout",function(t){guide.switchSet()})},tab:function(){var t=$(".pg_board_tab ul li"),e=$(".pg_board_tab ul li.active");$(".pg_board_panel"),$("#"+e.attr("rel")).addClass("active"),t.on("click",function(t){t.preventDefault();var e=$(this),s=e.attr("rel"),a=$(window).scrollTop();e.addClass("active").siblings("li").removeClass("active"),$("#"+s).addClass("active").siblings(".pg_board_panel").removeClass("active"),$(window).scrollTop(a),$.each(targetSwiper,function(t,e){e.update()})}),t.eq(0).addClass("active"),$("#"+t.eq(0).attr("rel")).addClass("active")},board:function(){$(".pg_board td.id").each(function(){var t=$(this).find("a"),e=t.attr("href"),s=t.text();if(e&&0!==e.indexOf("#")&&-1==e.indexOf(s)&&-1==e.indexOf(".html")){var a=e+s,i=location.pathname.split(".").pop();i&&(a=a+"."+i),t.attr("href",a)}}),$(".pg_board").each(function(){var t=$(this),e=[],s=[],a=[],i=[],n=[];$(this).find("tbody td.c_date").each(function(){var t=$(this).text();if(t){var s=parseInt(t.split("-").join(""));$(this).closest("tr").addClass("c_"+s),-1==e.indexOf(s)&&e.push(s)}}),e.sort(function(t,e){return t-e}),$(this).find("tbody td.w_date").each(function(){var t=$(this).find(".schedule_s").text();if(t){var e=parseInt(t.split("-").join(""));$(this).closest("tr").addClass("w_"+e),-1==s.indexOf(e)&&s.push(e)}}),s.sort(function(t,e){return t-e}),$(this).find("tbody td.m_date").each(function(){var t=$(this).text();if(t){var e=parseInt(t.split("-").join(""));$(this).closest("tr").addClass("m_"+e),-1==a.indexOf(e)&&a.push(e)}}),a.sort(function(t,e){return t-e}),$(this).find("tbody td.worker").each(function(){var t=$(this).text();if(t){var e=t;switch(e){case"PUB1":$wVal="tba1";break;case"PUB2":$wVal="tba2"}$(this).closest("tr").addClass(e),-1==i.indexOf(t)&&i.push(t)}}),i.sort(function(t,e){return t-e}),$(this).find("tbody td.complete").each(function(){var t=$(this).text();t&&($(this).closest("tr").addClass(t),-1==n.indexOf(t)&&n.push(t))}),n.sort(function(t,e){return t-e});var l=$(this).find("thead th.c_date select");if(l.length)for(var d in e){var o=e[d];l.append('<option val="'+o+'">'+o+"</option>")}var r=$(this).find("thead th.w_date select");if(r.length)for(var c in s){var h=s[c];r.append('<option val="'+h+'">'+h+"</option>")}var p=$(this).find("thead th.m_date select");if(p.length)for(var c in a){var u=a[c];p.append('<option val="'+u+'">'+u+"</option>")}var f=$(this).find("thead th.worker select");if(f.length)for(var c in i){var g=i[c];f.append('<option val="'+g+'">'+g+"</option>")}var v=$(this).find("thead th.complete select");if(v.length)for(var c in n){var m=n[c];v.append('<option val="'+m+'">'+m+"</option>")}var b=!1,w="",C="";t.next(".pg_board_scroll").length||t.after('<div class="pg_board_scroll"><div></div></div>'),t.on("mousedown",function(e){var s;t.get(0).scrollWidthl-t.width()>0&&(b=!0,t.addClass("catching"),w=e.pageX-t.offset().left,C=t.scrollLeft())}),t.on("mouseup",function(e){b=!1,t.removeClass("catching")}),t.on("mouseeleave",function(e){b=!1,t.removeClass("catching")}),t.on("mousemove",function(e){if(b){e.preventDefault();var s=C-(e.pageX-t.offset().left-w);t.scrollLeft(s)}});var y=function(){var e=t.get(0).scrollWidth-t.width(),s=t.scrollLeft();return e>0?t.addClass("catch"):t.removeClass("catch"),s/e*100};y(),t.on("scroll resize",function(e){var s=t.next(".pg_board_scroll").find(">div"),a=y();s.css("width",a+"%")})}),$(".pg_board thead th select").change(function(){var t=$(this).closest("thead"),e=t.find(".c_date select").val(),s=t.find(".w_date select").val(),a=t.find(".m_date select").val();t.find(".worker select").val();var i=t.find(".complete select").val(),n=$(this).closest(".pg_board").find("tbody");""==s&&""==e&&""==a&&""==i?n.find("tr").removeAttr("style"):""!=s&&""!=e&&""!=a&&""!=i?(n.find("tr").not(".hr").hide(),n.find(".c_"+e+".m_"+a+i+".w_"+s).show()):(n.find("tr").not(".hr").hide(),""!=s&&n.find(".w_"+s).show(),""!=e&&n.find(".c_"+e).show(),""!=a&&n.find(".m_"+a).show(),""!=i&&n.find("."+i).show(),""==s&&""==e&&""==i&&n.find("tr").removeAttr("style"))})},state:function(){$(".pg_content tbody .c_date").each(function(){(""==!$.trim($(this).html())||$(this).closest("tbody").find(".done").length)&&$(this).parent("tr").addClass("working")}),$(".pg_content tbody .m_date").each(function(){""!=!$.trim($(this).html())||$(this).parent("tr").hasClass("del")||$(this).parent("tr").addClass("modify")}),$(".pg_board_panel").each(function(){var t=$(this),e=t.find("table .no"),s=function(){var t=0;return e.each(function(){t+=1}),t},a=1;t.find("tbody tr").each(function(){$(this).hasClass("cms")?$(this).find(".no").text("CMS"):$(this).find(".no").length&&($(this).find(".no").text(a),a++)});var i,n=function(){var e=0;return t.find("tbody tr.del").each(function(){e+=1}),e},l=function(){var e=0;return t.find("tbody tr td.complete").each(function(){$(this).hasClass("del")||"완료"!==$(this).text()||(e+=1)}),e},d=0===s()?0:Math.round(100/(s()-n())*l());100===d&&(s(),n(),l()),t.find(".total .num").text(s()),t.find(".working .num").text((i=0,t.find("tbody tr.working").each(function(){$(this).hasClass("del")||(i+=1)}),i)),t.find(".cp_num .num").text(l()),t.find(".ing .num").text(d),t.find(".bar").css("width",d+"%")});var t,e=function(){var t=0;return $("table .no").each(function(){t+=1}),t},s=function(){var t=0;return $("table .no").each(function(){$(this).closest(".del").length&&(t+=1)}),t},a=function(){var t=e(),a=s();return t-a},i=function(){var t=0;return $("table td.complete").each(function(){$(this).parent("tr").hasClass("del")||"완료"!==$(this).text()||(t+=1)}),t},n=0===a()?0:Math.round(100/a()*i());100===n&&(a(),i()),$(".pg_project_status .total .num").text(e()),$(".pg_project_status .del .num").text(s()),$(".pg_project_status .working .num").text((t=0,$("table tr.working").each(function(){$(this).hasClass("del")||(t+=1)}),t)),$(".pg_project_status .cp_num .num").text(i()),$(".pg_project_status .ing .num").text(n),$(".pg_project_status .bar").css("width",n+"%")},UI:function(){var t=$("th button"),e=$(".btn_responsive"),s=($("td.id a"),$(".pg_project .current")),a=$(document),i=$('nav a[href^="'+location.pathname.split("/")[5]+'"]'),n=(i.text(),$(".pg_guide_info .code_view")),l=$(".pg_guide_info .code_view h4 a"),d=$(".pg_board .remark"),o=$("body").attr("data-project");i.closest("li").addClass("active").parents("li").addClass("active"),$(".btm_btn_set").length||$("body").append('<div class="btm_btn_set"><button type="button" class="btn_guide_top"><span class="hide">TOP</span></button><button type="button" class="btn_light_mode"><i></i><i></i><i></i><i></i><span class="hide">다크모드</span></button></div>'),$(".pg_project .pg_list li").each(function(){var t=$(this);o.charAt(0).toUpperCase()+o.slice(1)===t.text()&&(t.addClass("active"),s.text(t.text()))}),s.on("click",function(t){t.preventDefault(),$(this).toggleClass("active").next(".pg_list").slideToggle()}),a.on("click",function(t){0===$(t.target).closest(".pg_project").length&&$(".pg_project .current").removeClass("active").next(".pg_list").slideUp()}),$(".code").length>0&&SyntaxHighlighter.all(),l.on("click",function(){var t=$(this).closest(".code_view");t.hasClass("active")?t.removeClass("active"):(n.removeClass("active"),t.addClass("active"))}),t.on("click",function(){var t=$(this),e=t.closest("th").index(),s=t.closest(".pg_board");t.closest("th").hide(),s.find("tr").not(".hr").each(function(){$(this).find("td").eq(e).hide()}),s.resize();var a=s.find('thead th:not([style*="display: none"])').length;s.find(".hr th").attr("colspan",a)}),$(document).on("click","td.id a",function(t){var e=$(this),s=$(".frame_device .newWindow"),a=e.text(),i=e.closest("td").siblings("td.name").text(),n=e.attr("href");e.closest("tr").addClass("active").siblings("tr").removeClass("active"),$(".frame_device .p_id").text(a),$(".frame_device .p_name").text(i),$(".frame_device .head").addClass("active"),setTimeout(function(){$(".frame_device .head").removeClass("active")},500),s.attr("href",n)}),$(document).on("mouseover","td a.btn_hover",function(t){var e=$(this).attr("href"),s=$(".frame_device iframe"),a=$(".frame_device .p_id"),i=$(".frame_device .p_name"),n=$(".frame_device .newWindow"),l=$(this).closest("tr").find("td.id>a").text(),d=$(this).closest("tr").find("td.name").text();s.attr("src",e),n.attr("href",e),a.text(l),i.text(d)}),e.on("click",function(){guide.mToggle(),guide.devicePreview();var t=$(".frame_device");t.hasClass("pop")&&(t.drags("opt","destroy"),$(".pg_project_status").removeAttr("style"),t.removeClass("pop").removeAttr("style"))}),d.on("click",function(t){t.preventDefault();var e=$(this).clone();$("body").append('<div class="remark_pop"><a href="#" class="btn_search_del" role="button"><span class="hide">창닫기</span></a><h2>History</h2><div class="history"></div>','<div class="dimmed"></div>'),$("html, body").addClass("no_scroll"),$(".remark_pop .history").append(e)}),$(document).on("click",".dimmed, .btn_search_del",function(t){t.preventDefault(),$(".remark_pop, .dimmed").remove(),$("html, body").removeClass("no_scroll")})},slide:function(){$(".pg_board_tab").length>0&&(tabSwiper=new Swiper(".pg_board_tab",{slidesPerView:"auto",freeMode:!0}),$(".pg_board_tab .swiper-slide").off("click").on("click",function(t){t.preventDefault();var e=$(this);e.addClass("active").siblings("li").removeClass("active");var s=$(".pg_board_tab").width(),a=e.width()+e.offset().left+e.width(),i=e.index();s<a?tabSwiper.slideNext():tabSwiper.slideTo(i-1);var n=e.find("a").attr("href");if($(n).length){var l=$(n).offset().top;$("html, body").animate({scrollTop:l-60},300)}}),$(".pg_board_tab ul li").eq(0).addClass("active"))},devicePreview:function(){var t=$(".pg_board_tab li.active button").text(),e=$(".pg_board_panel"),s=$(".pg_board_panel.active"),a=("전체보기"===t?e.eq(0):s).find("tbody a").first(),i=a.attr("href"),n=a.text(),l=a.closest("tr").find(".name").text();if($(".frame_device").length){var d=$(".frame_device iframe"),o=$(".frame_device .p_id"),r=$(".frame_device .p_name");d.attr("src",i),o.text(n),r.text(l)}else{var c="";c+='<div class="frame_device">',c+='<div class="head">',c+='<a href="'+i+'" class="newWindow" target="_blank"><span class="hide">새창으로</span></a>',c+='<h2><span class="p_id">'+n+'</span><span class="p_name">'+l+"</span></h2>",c+='<button type="button" class="disconnect"><span class="hide">팝업으로 분리</span></button>',c+="</div>",c+='<div class="device">',c+='<div class="btn_size_set">',c+='<button type="button">320</button>',c+='<button type="button">360</button>',c+='<button type="button">375</button>',c+='<button type="button">768</button>',c+="</div>",c+='<iframe src="'+i+'" frameborder="0" name="device"></iframe>',c+="</div>",c+="</div>",$("#pgWrap").append(c)}var h=$(".btn_size_set button"),p=$(".frame_device .disconnect");h.off("click").on("click",function(t){t.preventDefault();var e=$(this),s=$(".frame_device"),a=e.text(),i=Number(a)+10,n=Number(a)+10;s.css("width",i),s.hasClass("pop")||($("#pgContainer").css("marginRight",n),$(".pg_project_status").css("paddingRight",n),$("html.m .pg_board_tab").css("right",n),$("html.m .panel_head").css("right",n),$("html.m .search_title").css("right",n))}),p.off("click").on("click",function(t){t.preventDefault(),guide.mToggle();var e=$(".frame_device"),s=$(".pg_board table tbody td.id a");e.toggleClass("pop"),e.hasClass("pop")?(e.drags("opt"),s.attr("target","device")):(e.drags("opt","destroy"),$(".pg_project_status").removeAttr("style"),e.removeClass("pop").removeAttr("style"))}),guide.frameResize()},searcher:function(t){var e=$(".pg_content"),s=$(".pg_board_panel thead"),a=$(".pg_board_panel tbody");$(document).on("keyup focus",t,function(){var t=$(this),i=t.val();""!=i?(t.next(".btn_search_del").length||t.after('<a href="#" class="btn_search_del" role="button"><span class="hide">입력내용삭제</span></a>'),t.next(".btn_search_del").addClass("on"),$("body").removeHighlight(),i&&$("body").highlight(i),s.hide(),a.find("tr").hide(),$(".highlight").closest("tr").show(),e.hasClass("searcher")||e.addClass("searcher"),0==$(".search_title").length&&e.prepend('<div class="search_title"><h3>검색결과</h3><button type="button" class="btn_search_cancel">검색취소</button></div>'),$(document).on("click",".btn_search_cancel",function(){$("body").removeHighlight(),s.show(),a.find("tr").show(),e.removeClass("searcher"),$("#pgSearchINP").val("").change().focus()})):t.next(".btn_search_del").length&&($("body").removeHighlight(),s.show(),a.find("tr").show(),e.removeClass("searcher"),$(".search_title").remove(),setTimeout(function(){t.next(".btn_search_del").remove()},400))}).on("focusout",t,function(){var t=$(this);t.next(".btn_search_del").length&&(t.next(".btn_search_del").removeClass("on"),setTimeout(function(){t.next(".btn_search_del").remove()},400))}),$(document).on("click",".btn_search_del",function(){var t=$(this).prev("input");$("body").removeHighlight(),s.show(),a.find("tr").show(),e.removeClass("searcher"),t.val("").change().focus()})},frameResize:function(){var t=$(window).height(),e=$("#pgHeader").height(),s=$(".frame_device .head").height();$(".frame_device iframe").css("height",t-e-s-65)},resize:function(){$(window).on("resize",function(){var t=$("tr.hr th"),e=$(window).width(),s=$(".pg_board table tbody td.id a"),a=$(".frame_device");e<1024?(t.attr("colspan","2"),$("html").removeClass("m"),s.attr("target","_blank"),a.removeAttr("style")):t.attr("colspan","13"),guide.frameResize()})},scroll:function(){$(window).scroll(function(){guide.btnSet(),guide.headPixed()}),$(window).scroll()},btnSet:function(){$(window);var t=$(".btm_btn_set"),e=$(".btn_guide_top"),s=$(".btn_light_mode");$(window).scrollTop()>100?t.addClass("active"):t.removeClass("active"),e.off("click").on("click",function(){$tabLiOn=$(".pg_board_tab .swiper-slide"),$(window).scrollTop(0),$tabLiOn.removeClass("active").eq(0).addClass("active"),void 0!==tabSwiper&&tabSwiper.slideTo(0)}),s.off("click").on("click",function(){guide.toggle_light_mode()})},headPixed:function(){$(window);var t=$("#pgWrap"),e=($("#pgHeader"),$(".pg_titles"));$(window).scrollTop()>e.height()&&$(window).width()>1024?t.addClass("fixed"):t.removeClass("fixed")},mToggle:function(){var t=$(".pg_board table tbody td.id a"),e=$(".frame_device");$("html").hasClass("m")?($("html").removeClass("m"),e.hasClass("pop")||(t.attr("target","_blank"),$("#pgContainer, .frame_device").removeAttr("style")),$(".pg_board_tab").css("right",0),$(".panel_head").css("right",0),$(".search_title").css("right",0)):($("html").addClass("m"),t.attr("target","device"))},toggle_light_mode:function(){var t=$("html");"dark"==localStorage.lightMode?(localStorage.lightMode="light",t.attr("light-mode","light")):(localStorage.lightMode="dark",t.attr("light-mode","dark"))},shortcut:function(){var t=null,e=$(".pg_target");$(".pg_content").each(function(e,s){var a=$(s).find("tbody tr td:nth-child(5)");$.each(a,function(e,s){var a=$(s).closest(".pg_board_panel").find(".pg_target>ul"),i=$(s).text(),n=$(s).parent();t==i||""==i||n.hasClass("del")||(n.attr("id","target"+e),a.append('<li class="swiper-slide"><a href="#target'+e+'" class="go">'+i+"</a></li>"),t=$(s).text())})}),e.each(function(t,e){targetSwiper[t]=new Swiper(e,{slidesPerView:"auto",freeMode:!0}),$(e).find(".swiper-slide>a").on("click",function(s){s.preventDefault();var a=$(this),i=Math.floor($(e).width()),n=Math.floor(a.width()+a.position().left+a.width()),l=a.index(),d=a.attr("href");console.log(a),console.log($(d)),a.addClass("active").parent("li").siblings("li").find("a").removeClass("active"),i<n?targetSwiper[t].slideNext():targetSwiper[t].slideTo(l-1),$(d).addClass("focus"),setTimeout(function(){$(d).removeClass("focus")},1e3),$("html, body").animate({scrollTop:$(d).offset().top-200+"px"},300)})})},etcListChk:function(){$(".pg_board_panel").each(function(){var t=$(this),e=t.find(".remark li.design"),s=t.find(".remark li.plan");if($issue=t.find(".remark li.issue"),$schedule=t.find(".remark li.schedule"),$etc=t.find(".remark li.etc"),e.length){var a=e.length,i=t.find(".btn_design");e.closest("tr").addClass("design"),i.length||t.find(".pg_alert_btn_set").append('<button type="button" class="btn_design">디자인확인 필요 <strong>['+a+"]</strong></button>")}if(s.length){var a=s.length,i=t.find(".btn_plan");s.closest("tr").addClass("plan"),i.length||t.find(".pg_alert_btn_set").append('<button type="button" class="btn_plan">기획확인 필요 <strong>['+a+"]</strong></button>")}if($issue.length){var a=$issue.length,i=t.find(".btn_issue");$issue.closest("tr").addClass("issue"),i.length||t.find(".pg_alert_btn_set").append('<button type="button" class="btn_issue">이슈<strong>['+a+"]</strong></button>")}if($schedule.length){var a=$schedule.length,i=t.find(".btn_schedule");$schedule.closest("tr").addClass("schedule"),i.length||t.find(".pg_alert_btn_set").append('<button type="button" class="btn_schedule">일정확인 필요 <strong>['+a+"]</strong></button>")}if($etc.length){var a=$etc.length,i=t.find(".btn_etc");$etc.closest("tr").addClass("etc"),i.length||t.find(".pg_alert_btn_set").append('<button type="button" class="btn_etc">기타확인 필요 <strong>['+a+"]</strong></button>")}}),$(".pg_alert_btn_set").find("button").on("click",function(t){var e=$(this),s=e.closest(".pg_board_panel").find(".pg_board tbody tr");e.hasClass("btn_design")&&(e.siblings().removeClass("active"),e.hasClass("active")?(e.removeClass("active"),s.show().siblings("tr.design").find(".remark>li").removeAttr("style")):(e.addClass("active"),s.hide().siblings("tr.design").show().find(".remark>li").show())),e.hasClass("btn_plan")&&(e.siblings().removeClass("active"),e.hasClass("active")?(e.removeClass("active"),s.show().siblings("tr.plan").find(".remark>li").removeAttr("style")):(e.addClass("active"),s.hide().siblings("tr.plan").show().find(".remark>li").show())),e.hasClass("btn_issue")&&(e.siblings().removeClass("active"),e.hasClass("active")?(e.removeClass("active"),s.show().siblings("tr.issue").find(".remark>li").removeAttr("style")):(e.addClass("active"),s.hide().siblings("tr.issue").show().find(".remark>li").show())),e.hasClass("btn_schedule")&&(e.siblings().removeClass("active"),e.hasClass("active")?(e.removeClass("active"),s.show().siblings("tr.schedule").find(".remark>li").removeAttr("style")):(e.addClass("active"),s.hide().siblings("tr.schedule").show().find(".remark>li").show())),e.hasClass("btn_etc")&&(e.siblings().removeClass("active"),e.hasClass("active")?(e.removeClass("active"),s.show().siblings("tr.etc").find(".remark>li").removeAttr("style")):(e.addClass("active"),s.hide().siblings("tr.etc").show().find(".remark>li").show()))}),"dark"==localStorage.lightMode&&$(".pg_board table tbody td.id a").addClass("dark")},init:function(){guide.board(),guide.state(),guide.UI(),guide.slide(),guide.switchSet(),guide.switch(),guide.tab(),guide.devicePreview(),guide.searcher("#pgSearchINP"),guide.resize(),guide.scroll(),guide.shortcut(),guide.etcListChk()}};$.fn.drags=function(t,e){var s=null;s=""===(t=$.extend({handle:".head",cursor:"move"},t)).handle?this:this.find(t.handle),"destroy"===e?s.css("cursor","auto").off("mousedown"):s.css("cursor",t.cursor).on("mousedown",function(e){var s=null,a=(s=""===t.handle?$(this).addClass("draggable"):$(this).addClass("active-handle").parent().addClass("draggable")).css("z-index"),i=s.outerHeight(),n=s.outerWidth(),l=s.offset().top+i-e.pageY,d=s.offset().left+n-e.pageX;s.css("z-index",1e3).parents().on("mousemove",function(t){$(".draggable").offset({top:t.pageY+l-i,left:t.pageX+d-n}).on("mouseup",function(){$(this).removeClass("draggable").css("z-index",a)})}),e.preventDefault()}).on("mouseup",function(){""===t.handle?$(this).removeClass("draggable"):$(this).removeClass("active-handle").parent().removeClass("draggable")})},$.fn.highlight=function(t){return this.each(function(){!function t(e,s){var a=0;if(3==e.nodeType){var i=e.data.toUpperCase().indexOf(s);if(i>=0){var n=document.createElement("span");n.className="highlight";var l=e.splitText(i);l.splitText(s.length);var d=l.cloneNode(!0);n.appendChild(d),l.parentNode.replaceChild(n,l),a=1}}else if(1==e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var o=0;o<e.childNodes.length;++o)o+=t(e.childNodes[o],s);return a}(this,t.toUpperCase())})},$.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),function t(e){for(var s=0,a=e.childNodes,i=a.length;s<i;s++){var n=a[s];if(1==n.nodeType){t(n);continue}if(3==n.nodeType){var l=n.nextSibling;if(null!=l&&3==l.nodeType){var d=n.nodeValue+l.nodeValue;new_node=e.ownerDocument.createTextNode(d),e.insertBefore(new_node,n),e.removeChild(n),e.removeChild(l),s--,i--}}}}(t)}).end()};